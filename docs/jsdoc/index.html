<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Home - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">

  

  
  <script type="text/javascript" src="scripts/lodash.min.js"></script>
  <script type="text/javascript" src="scripts/search.js"></script>
  <link type="text/css" rel="stylesheet" href="styles/custom.css"/>
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li  class="active" >
        <a href="index.html">
          
          
            <svg fill="#0095dd" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      yocto-logger<br/>Version <span style='color:#0095dd'>v3.0.0</span>
    </h3>

    <h3>Classes</h3><ul><li id="Logger-nav"><a href="Logger.html">Logger</a><ul class='methods'><li data-type="method" id="Logger-create-nav"><a href="Logger.html#.create">create</a></li><li data-type="method" id="Logger-addDailyRotateTransport-nav"><a href="Logger.html#addDailyRotateTransport">addDailyRotateTransport</a></li><li data-type="method" id="Logger-alert-nav"><a href="Logger.html#alert">alert</a></li><li data-type="method" id="Logger-banner-nav"><a href="Logger.html#banner">banner</a></li><li data-type="method" id="Logger-changeLogLevel-nav"><a href="Logger.html#changeLogLevel">changeLogLevel</a></li><li data-type="method" id="Logger-critical-nav"><a href="Logger.html#critical">critical</a></li><li data-type="method" id="Logger-debug-nav"><a href="Logger.html#debug">debug</a></li><li data-type="method" id="Logger-disableConsole-nav"><a href="Logger.html#disableConsole">disableConsole</a></li><li data-type="method" id="Logger-emergency-nav"><a href="Logger.html#emergency">emergency</a></li><li data-type="method" id="Logger-enableConsole-nav"><a href="Logger.html#enableConsole">enableConsole</a></li><li data-type="method" id="Logger-enableErrorToDailyRotateFiles-nav"><a href="Logger.html#enableErrorToDailyRotateFiles">enableErrorToDailyRotateFiles</a></li><li data-type="method" id="Logger-enableRequestToDailyRotateFiles-nav"><a href="Logger.html#enableRequestToDailyRotateFiles">enableRequestToDailyRotateFiles</a></li><li data-type="method" id="Logger-error-nav"><a href="Logger.html#error">error</a></li><li data-type="method" id="Logger-info-nav"><a href="Logger.html#info">info</a></li><li data-type="method" id="Logger-notice-nav"><a href="Logger.html#notice">notice</a></li><li data-type="method" id="Logger-process-nav"><a href="Logger.html#process">process</a></li><li data-type="method" id="Logger-warning-nav"><a href="Logger.html#warning">warning</a></li></ul></li></ul>
  </nav>

  <div id="main">
    

    
      



    

      


  <section class="readme">
    <article>
      <p><a href="https://nodei.co/npm/yocto-logger/"><img src="https://nodei.co/npm/yocto-logger.png?downloads=true&amp;downloadRank=true&amp;stars=true" alt="NPM"></a></p>
<p><img src="https://david-dm.org/yoctore/yocto-logger.svg" alt="alt text" title="Dependencies Status">
<a href="https://codeclimate.com/github/yoctore/yocto-logger"><img src="https://codeclimate.com/github/yoctore/yocto-logger/badges/gpa.svg" alt="Code Climate"></a>
<a href="https://codeclimate.com/github/yoctore/yocto-logger/coverage"><img src="https://codeclimate.com/github/yoctore/yocto-logger/badges/coverage.svg" alt="Test Coverage"></a>
<a href="https://codeclimate.com/github/yoctore/yocto-logger"><img src="https://codeclimate.com/github/yoctore/yocto-logger/badges/issue_count.svg" alt="Issue Count"></a>
<a href="https://travis-ci.org/yoctore/yocto-logger"><img src="https://travis-ci.org/yoctore/yocto-logger.svg?branch=master" alt="Build Status"></a></p>
<h3>Overview</h3><p>This module manage logs for your node app.</p>
<p>This module his based on <a href="https://www.npmjs.com/package/winston">winston</a> and <a href="https://www.npmjs.com/package/morgan">morgan</a> packages.</p>
<h3>Before start</h3><p>Please keep in mind this <strong>is not a complete reimplantation of winston or morgan</strong> we only use winston and morgan for the core process.</p>
<p>We build this module to adapt to our usage.</p>
<h3>Motivation</h3><p>In all of our project we use a logger library like winston.</p>
<p>But all the time we need to configure again and again the same library. </p>
<p>That why we decided to create your own logger.</p>
<p>This tool is designed to be a very very simple and pre-configured and ready to use tool
based on the universal logging library winston and morgan.</p>
<h3>Log levels</h3><p>Logs levels is based on syslogs level define on winston. For mode details see <a href="https://github.com/winstonjs/winston#logging-levels">here</a> </p>
<p>By default we check <code>process.env.NODE_ENV</code> value.</p>
<p>If this value is set to <code>production</code> we set the level to <code>notice</code> otherwise <code>debug</code> level is set.</p>
<h3>How to create a logger</h3><p>To create a logger instance just use this following code</p>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it</code></pre><p>By default console logger is defined.</p>
<h3>Add a daily rotate transport</h3><p>By default depending your current environmment all logs are save on a combined logs file.</p>
<p>Daily rorate are configured with those values : </p>
<ul>
<li>file size : <strong>20m</strong></li>
<li>delay : <strong>14d</strong></li>
</ul>
<p>To create a daily rotate file just following this code</p>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it

// default options
var options = {
  changeChangeLevel : true, // indicates that dynamic level change is allowed
  extname : 'combined', // indicated the extention name of file by default &lt;pattern>-&lt;extname>.log
  destination : '.', // default destination of log file
  filename : '&lt;pattern>-&lt;extname>.log', // default file name with define structure &lt;pattern>-&lt;extname>.log
  pattern : YYYYMMDD, // default pattern of date for filename
  zipped : true, // define if log must be zipped
  size : '20m', // default size of file
  delay : '14d', // default delay of storage
  level :  'debug' // default log level
};

// add your daily rorate file
logger.addDailyRotateTransport(options);</code></pre><h3>Enable web request logging</h3><p>By default our logger do not log web request, but you can enable it.</p>
<p>Web requests will be log by <a href="https://www.npmjs.com/package/morgan">morgan</a> package and data will be stream
on a specific winston transporter.</p>
<p>To create a web request daily rotate file just following this code.</p>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it

// default options
var options = {
  changeChangeLevel : false, // indicates that dynamic level change is allowed
  extname : 'access', // indicated the extention name of file by default &lt;pattern>-&lt;extname>.log
  destination : '.', // default destination of log file
  filename : '&lt;pattern>-&lt;extname>.log', // default file name with define structure &lt;pattern>-&lt;extname>.log
  pattern : YYYYMMDD, // default pattern of date for filename
  zipped : true, // define if log must be zipped
  size : '20m', // default size of file
  delay : '14d', // default delay of storage
  level :  'info', // default log level
  xheaders : [] // default key for additionnal headers
};

// add your web daily rorate file
logger.enableRequestToDailyRotateFiles(options);</code></pre><h3>Logging Methods</h3><p> Avaiblable methods are : </p>
<ul>
<li>emergency</li>
<li>alert</li>
<li>critical</li>
<li>error</li>
<li>warning</li>
<li>notice</li>
<li>info</li>
<li>debug</li>
</ul>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it
logger.emergency('Hello world');
logger.alert('Hello world');
logger.critical('Hello world');
logger.error('Hello world');
logger.warning('Hello world');
logger.notice('Hello world');
logger.info('Hello world');
logger.debug('Hello world');</code></pre><h3>Banner Method</h3><p>To display on console.log a more significant message we implemened a utility banner method.</p>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it
// banner usage
logger.banner(&quot;Banner customized&quot;);</code></pre><h3>Change levels</h3><p>For some reason you want change dynamicly change levels of you transporters.</p>
<p>To do that use <code>changeLogLevel</code> method.</p>
<p>This process will check if property <code>changeChangeLevel</code> is set to true
and will process the needed change</p>
<p>For example if we need to set current logger instance to <code>error</code> level : </p>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it
logger.changeChangeLevel('error'); // Change log to error</code></pre><h3>Utility Methods</h3><p>For a better usage we can interact with all transport by utility methods.
Methods available are : </p>
<ul>
<li>enableConsole : to enable console transport if is disable</li>
<li>disableConsole : to disable console transport if is enable</li>
</ul>
<pre class="prettyprint source lang-javascript"><code>var logger = require('yocto-logger');
// Create your own logger here
logger = logger.create(); // Use it

// Others method
logger.enableConsole();
logger.disableConsole();</code></pre>
    </article>
  </section>


    


  </div>

  <br class="clear">

  <footer>Documentation for application <b>yocto-logger<b>.<br/>Generated at Tue Aug 28 2018 15:14:29 GMT+0400 (+04) with <a href='https://www.npmjs.com/package/yoctodoc'>yocto-doc</a><br/>Copyright Yocto © 2014 - 2018</footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  
  
</body>
</html>